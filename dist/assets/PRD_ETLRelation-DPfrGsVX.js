import{F as L,H as Q,G as q,s as R,C as $,P as I,L as _,O as a,N as l,M as o,_ as b,Z as w,W as p,K as h,R as x,U as s,ap as H,Q as u,T as m,ae as M,X as P,aq as D}from"./index-DxvJ3q3h.js";import{Q as d,l as S,m as T}from"./PopupDialog-KTqEVNw1.js";import{Q as U}from"./QTable-miSyaNti.js";import{a as B}from"./allETLTopics-_t0FcyAO.js";import{u as N,b as C}from"./ETLRelation.jsonvuetypei18nindex0srctruelang-DtymqJE6.js";import{_ as O}from"./plugin-vueexport-helper-DlAUqK2U.js";const z={class:"page-height"},Y={class:"column fit q-pa-sm"},A={class:"col full-height"},F={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3"},G={class:"text-subtitle1 ellipsis"},j={class:"text-subtitle1 ellipsis"},K={class:"col-6 q-gutter-sm q-px-sm",style:{"white-space":"nowrap"}},W={class:"col-6 text-right"},X={class:"text-caption text-grey-8"},Z={class:"text-caption text-grey-8"},E=L({__name:"PRD_ETLRelation",setup(J){const{t}=Q(),V=q(),f=N();R(()=>{y()});const r=$({filter:"",rows:[],columns:[{name:"ID",label:t("ID"),field:"ID",align:"left",sortable:!0},{name:"Type",label:t("Type"),field:"Type",align:"left",sortable:!0},{name:"Value",label:t("Value"),field:"Value",align:"left",sortable:!0},{name:"Descr",label:t("Descr"),field:"Descr",align:"left",sortable:!0},{name:"Editor",label:t("Editor"),field:"Editor",align:"left",sortable:!0},{name:"Cdt",label:t("Cdt"),field:"Cdt",align:"left",sortable:!0},{name:"Udt",label:t("Udt"),field:"Udt",align:"left",sortable:!0},{name:"ETLVersion",label:t("ETLVersion"),field:"ETLVersion",align:"left",sortable:!0},{name:"HasETLRelation",label:t("HasETLRelation"),field:"HasETLRelation",align:"left",sortable:!0}]});function y(){r.rows=B}function g(i,n,e){f.Topic=i,f.Version=n,f.Descr=e,V.push(`/ETL/ETLDiagram/PRD?topic=${i}&version=${n}`)}function ee(i,n){}function v(i){let e=t("MsgConfirmExport",["STAGE"]);D.create({component:T,componentProps:{title:t("Export"),titleClass:"bg-brown text-white",message:e}}).onOk(()=>{})}function k(i,n){let e=t("Topic")+": "+i,c=t("MsgConfirmClear",[e]);D.create({component:T,componentProps:{title:t("ClearDiagram"),titleClass:"bg-negative text-white",message:c}}).onOk(()=>{})}return(i,n)=>(_(),I("div",z,[a("div",Y,[a("div",A,[l(w,null,{default:o(()=>[l(b,{class:"q-pa-none"},{default:o(()=>[l(U,{grid:"",dense:"",rows:r.rows,columns:r.columns,filter:r.filter,"rows-per-page-options":[0]},{"top-right":o(()=>[l(M,{class:"q-pl-md",clearable:"",dense:"",debounce:"300",modelValue:r.filter,"onUpdate:modelValue":n[0]||(n[0]=e=>r.filter=e),placeholder:"Search"},{append:o(()=>[l(P,{name:"search"})]),_:1},8,["modelValue"])]),item:o(e=>[a("div",F,[l(w,{class:"no-shadow",bordered:"",style:{"max-height":"115px"}},{default:o(()=>[l(b,{onClick:c=>g(e.row.Value,e.row.ETLVersion,e.row.Descr),class:"q-pb-none q-pt-sm cursor-pointer"},{default:o(()=>[a("div",G,[p(s(e.row.Value)+" ",1),e.row.Value.length>25?(_(),h(d,{key:0,class:"text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,s(e.row.Value),1)]),_:2},1024)):x("",!0)]),a("div",j,[p(s(e.row.Descr)+" ",1),e.row.Descr.length>20?(_(),h(d,{key:0,class:"text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,s(e.row.Descr),1)]),_:2},1024)):x("",!0)])]),_:2},1032,["onClick"]),l(H,{class:"row items-center justify-between q-pt-none"},{default:o(()=>[a("div",K,[l(u,{onClick:c=>g(e.row.Value,e.row.ETLVersion,e.row.Descr),icon:"sym_o_docs",size:"md",round:"",flat:"",dense:"",class:"bg-secondary text-white"},{default:o(()=>[l(d,{class:"bg-secondary text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,s(m(t)("View")),1)]),_:1})]),_:2},1032,["onClick"]),l(u,{onClick:c=>(e.row.Value,e.row.Descr,void 0),icon:"sym_o_file_export",size:"md",round:"",flat:"",dense:"",class:"bg-indigo-8 text-white"},{default:o(()=>[l(d,{class:"bg-indigo-8 text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,s(m(t)("Export")),1)]),_:1})]),_:2},1032,["onClick"]),l(u,{onClick:c=>v(e.row.Value),icon:"sym_o_file_copy",size:"md",round:"",flat:"",dense:"",class:"bg-brown text-white"},{default:o(()=>[l(d,{class:"bg-brown text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,s(m(t)("ExportToStage")),1)]),_:1})]),_:2},1032,["onClick"]),l(u,{onClick:c=>k(e.row.Value,e.row.ETLVersion),icon:"sym_o_mop",size:"md",round:"",flat:"",dense:"",class:"bg-negative text-white"},{default:o(()=>[l(d,{class:"bg-negative text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,s(m(t)("ClearDiagram")),1)]),_:1})]),_:2},1032,["onClick"])]),a("div",W,[a("div",X,s(e.row.Editor),1),a("div",Z,s(`${m(S).formatDate(e.row.Udt,"YYYY/MM/DD HH:mm:ss")}`),1)])]),_:2},1024)]),_:2},1024)])]),_:1},8,["rows","columns","filter"])]),_:1})]),_:1})])])]))}});typeof C=="function"&&C(E);const ie=O(E,[["__scopeId","data-v-cf0636b6"]]);export{ie as default};
