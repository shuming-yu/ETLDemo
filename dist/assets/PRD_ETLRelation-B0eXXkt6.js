import{F as q,H as $,G as P,s as I,r as M,C as p,P as H,L as _,O as a,N as l,M as o,_ as h,Z as w,W as x,K as D,R as T,U as n,ay as S,Q as u,T as d,ae as U,X as z,az as E}from"./index-tdpVI09P.js";import{l as B,Q as c,n as N,r as C}from"./webUtil-BauTstjd.js";import{Q as O}from"./QTable-C1QJS2Kk.js";import{u as A,b as v}from"./ETLRelation.json_vue_type_i18n_index_0_src_true_lang-DrdGd860.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"page-height"},F={class:"column fit q-pa-sm"},j={class:"col full-height"},K={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3"},W={class:"text-subtitle1 ellipsis"},X={class:"text-subtitle1 ellipsis"},Z={class:"col-6 q-gutter-sm q-px-sm",style:{"white-space":"nowrap"}},J={class:"col-6 text-right"},ee={class:"text-caption text-grey-8"},te={class:"text-caption text-grey-8"},oe="P",y=q({__name:"PRD_ETLRelation",setup(le){const{t}=$(),V=P(),f=A();I(()=>{L()});const g=M(""),m=p([]),k=p([{name:"ID",label:t("ID"),field:"ID",align:"left",sortable:!0},{name:"Type",label:t("Type"),field:"Type",align:"left",sortable:!0},{name:"Value",label:t("Value"),field:"Value",align:"left",sortable:!0},{name:"Descr",label:t("Descr"),field:"Descr",align:"left",sortable:!0},{name:"Editor",label:t("Editor"),field:"Editor",align:"left",sortable:!0},{name:"Cdt",label:t("Cdt"),field:"Cdt",align:"left",sortable:!0},{name:"Udt",label:t("Udt"),field:"Udt",align:"left",sortable:!0},{name:"ETLVersion",label:t("ETLVersion"),field:"ETLVersion",align:"left",sortable:!0},{name:"HasETLRelation",label:t("HasETLRelation"),field:"HasETLRelation",align:"left",sortable:!0}]);function L(){m.splice(0,m.length);let i="ETLManager/ETLDiagram/GetAllETLTopics?version="+oe;B(i).then(s=>{m.splice(0,0,...s)})}function b(i,s,e){f.Topic=i,f.Version=s,f.Descr=e,V.push(`/ETL/ETLDiagram/PRD?topic=${i}&version=${s}`)}function ae(i,s){}function R(i){let e=t("MsgConfirmExport",["STAGE"]);E.create({component:C,componentProps:{title:t("Export"),titleClass:"bg-brown text-white",message:e}}).onOk(()=>{})}function Q(i,s){let e=t("Topic")+": "+i,r=t("MsgConfirmClear",[e]);E.create({component:C,componentProps:{title:t("ClearDiagram"),titleClass:"bg-negative text-white",message:r}}).onOk(()=>{})}return(i,s)=>(_(),H("div",Y,[a("div",F,[a("div",j,[l(w,null,{default:o(()=>[l(h,{class:"q-pa-none"},{default:o(()=>[l(O,{grid:"",dense:"",rows:m,columns:k,filter:g.value,"rows-per-page-options":[0]},{"top-right":o(()=>[l(U,{class:"q-pl-md",clearable:"",dense:"",debounce:"300",modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=e=>g.value=e),placeholder:"Search"},{append:o(()=>[l(z,{name:"search"})]),_:1},8,["modelValue"])]),item:o(e=>[a("div",K,[l(w,{class:"no-shadow",bordered:"",style:{"max-height":"115px"}},{default:o(()=>[l(h,{onClick:r=>b(e.row.Value,e.row.ETLVersion,e.row.Descr),class:"q-pb-none q-pt-sm cursor-pointer"},{default:o(()=>[a("div",W,[x(n(e.row.Value)+" ",1),e.row.Value.length>25?(_(),D(c,{key:0,class:"text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,n(e.row.Value),1)]),_:2},1024)):T("",!0)]),a("div",X,[x(n(e.row.Descr)+" ",1),e.row.Descr.length>20?(_(),D(c,{key:0,class:"text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,n(e.row.Descr),1)]),_:2},1024)):T("",!0)])]),_:2},1032,["onClick"]),l(S,{class:"row items-center justify-between q-pt-none"},{default:o(()=>[a("div",Z,[l(u,{onClick:r=>b(e.row.Value,e.row.ETLVersion,e.row.Descr),icon:"sym_o_docs",size:"md",round:"",flat:"",dense:"",class:"bg-secondary text-white"},{default:o(()=>[l(c,{class:"bg-secondary text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,n(d(t)("View")),1)]),_:1})]),_:2},1032,["onClick"]),l(u,{onClick:r=>(e.row.Value,e.row.Descr,void 0),icon:"sym_o_file_export",size:"md",round:"",flat:"",dense:"",class:"bg-indigo-8 text-white"},{default:o(()=>[l(c,{class:"bg-indigo-8 text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,n(d(t)("Export")),1)]),_:1})]),_:2},1032,["onClick"]),l(u,{onClick:r=>R(e.row.Value),icon:"sym_o_file_copy",size:"md",round:"",flat:"",dense:"",class:"bg-brown text-white"},{default:o(()=>[l(c,{class:"bg-brown text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,n(d(t)("ExportToStage")),1)]),_:1})]),_:2},1032,["onClick"]),l(u,{onClick:r=>Q(e.row.Value,e.row.ETLVersion),icon:"sym_o_mop",size:"md",round:"",flat:"",dense:"",class:"bg-negative text-white"},{default:o(()=>[l(c,{class:"bg-negative text-body2",anchor:"bottom middle",self:"top middle"},{default:o(()=>[a("strong",null,n(d(t)("ClearDiagram")),1)]),_:1})]),_:2},1032,["onClick"])]),a("div",J,[a("div",ee,n(e.row.Editor),1),a("div",te,n(`${d(N).formatDate(e.row.Udt,"YYYY/MM/DD HH:mm:ss")}`),1)])]),_:2},1024)]),_:2},1024)])]),_:1},8,["rows","columns","filter"])]),_:1})]),_:1})])])]))}});typeof v=="function"&&v(y);const de=G(y,[["__scopeId","data-v-4c402716"]]);export{de as default};
